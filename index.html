<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>PAPERHOUSE INC - Ads & Wallet</title>

<!-- Telegram WebApp -->
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<!-- Monetag / Libtl SDKs (–ø—Ä–∏–º–µ—Ä) -->
<script src="//libtl.com/sdk.js" data-zone="10276123" data-sdk="show_10276123"></script>
<script src="//libtl.com/sdk.js" data-zone="10337795" data-sdk="show_10337795"></script>
<script src="//libtl.com/sdk.js" data-zone="10337853" data-sdk="show_10337853"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

<style>
  :root {
    --bg: skyblue;
    --btn: #9acd32;
    --btn-act: #f3e500;
    --card-bg: rgba(255,255,255,0.9);
  }
  body { margin:0; font-family: Inter, Roboto, sans-serif; background:var(--bg); }
  header { padding:14px; text-align:center; color:#003; font-weight:800; font-size:20px; }
  .container { max-width:980px; margin:0 auto; padding:12px; }
  .user-card { background:var(--card-bg); border-radius:12px; padding:12px; margin-bottom:10px; display:flex; justify-content:space-between; align-items:center; }
  .btn { background:var(--btn); border:none; padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:700; box-shadow:0 3px #6b8e23; margin:6px 0; }
  .btn:active { background:var(--btn-act); transform:translateY(2px); box-shadow:0 1px #6b8e23; }
  nav { display:flex; gap:8px; flex-wrap:wrap; margin:10px 0; }
  section { display:none; }
  section.active { display:block; }
  .card { background:var(--card-bg); padding:12px; border-radius:12px; margin-bottom:10px; }
  input, select, textarea { width:100%; padding:10px; border-radius:10px; border:1px solid #ddd; box-sizing:border-box; }
  table { width:100%; border-collapse:collapse; }
  td, th { padding:8px; border-bottom:1px solid #eee; text-align:left; }
  .small { font-size:12px; color:#666; }
  .hidden { display:none; }
  .modal { position:fixed; inset:0; display:flex; justify-content:center; align-items:center; background:rgba(0,0,0,0.4); z-index:2000; }
  .modal .box { background:white; padding:20px; border-radius:12px; width:90%; max-width:600px; }
  .link { color:blue; text-decoration:underline; cursor:pointer; }
</style>
</head>
<body>

<header>PAPERHOUSE INC ‚Äî Ads & Wallet</header>

<div class="container">
  <div class="user-card">
    <div>
      <div id="userBar">üë§ User: Loading...</div>      <div id="usernameSmall" class="small"></div>
    </div>
    <div style="text-align:right;">
      <div id="balanceDisplay" style="font-weight:800; font-size:18px;">‚Ç±0.00</div>
      <div class="small">Total earned: <span id="totalEarned">‚Ç±0.00</span></div>
    </div>
  </div>

  <nav>
    <button class="btn" onclick="openSection('ads')">üçç Ads Area</button>
    <button class="btn" onclick="openSection('signin')">üçç Sign In</button>
    <button class="btn" onclick="openSection('gift')">üéÅ Gift</button>
    <button class="btn" onclick="openSection('withdraw')">üí∏ Withdrawal</button>
    <button class="btn" onclick="openSection('referrals')">üîó Referrals</button>
    <button class="btn" onclick="openSection('chat')">üí¨ Chat</button>
    <button class="btn" onclick="openSection('profile')">üë§ Profile</button>
    <button class="btn" onclick="openSection('leaders')">üèÜ Top Earners</button>
    <button class="btn" onclick="openSection('adsleaders')">üéØ Ads Leaderboard</button>
    <button class="btn" onclick="openSection('help')">‚ùì Help</button>
    <button class="btn" onclick="openOwner()">üîí Owner Dashboard</button>
  </nav>

  <!-- ADS / tasks (—É–ø—Ä–æ—â—ë–Ω–Ω–æ, —Ä–µ–∞–ª–∏–∑—É–π –¥–µ—Ç–∞–ª–∏ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏) -->
  <section id="ads" class="active">
    <div class="card">
      <h3>Ads Area ‚Äî –Ω–µ–±–æ–ª—å—à–∏–µ –∑–∞–¥–∞–Ω–∏—è</h3>
      <div id="adsList"></div>
    </div>
  </section>

  <!-- SIGN IN area -->
  <section id="signin">
    <div class="card">
      <h3>Sign In Area ‚Äî –∑–∞–¥–∞–Ω–∏—è (‚Ç±0.025)</h3>
      <div id="signinList"></div>
    </div>
  </section>

  <!-- GIFT area -->
  <section id="gift">
    <div class="card">
      <h3>Gift Area ‚Äî –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –Ω–∞–≥—Ä–∞–¥—ã (‚Ç±0.02)</h3>
      <div id="giftList"></div>
    </div>
  </section>

  <!-- Withdrawal -->
  <section id="withdraw">
    <div class="card">
      <h3>Withdraw ‚Äî –í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h3>

      <div style="display:flex; gap:12px; flex-wrap:wrap;">
        <div style="flex:1; min-width:260px;">
          <h4>GCash</h4>
          <div class="small">–ë–∞–ª–∞–Ω—Å: ‚Ç±<span id="gcashBalance">0.00</span></div>
          <input id="gcashNumber" placeholder="GCash –Ω–æ–º–µ—Ä (09xxxxxxxxx)" />
          <input id="gcashAmount" placeholder="–°—É–º–º–∞ –∫ –≤—ã–≤–æ–¥—É (‚Ç±)" />          <button class="btn" onclick="requestWithdraw('gcash')">–í—ã–≤–µ—Å—Ç–∏ –Ω–∞ GCash</button>
        </div>

        <div style="flex:1; min-width:260px;">
          <h4>FaucetPay (USDT)</h4>
          <div class="small">–ë–∞–ª–∞–Ω—Å: ‚Ç±<span id="faucetBalance">0.00</span></div>
          <input id="faucetEmail" placeholder="FaucetPay email" />
          <input id="faucetAmount" placeholder="–°—É–º–º–∞ –≤ ‚Ç± (–±—É–¥–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞)" />
          <button class="btn" onclick="requestWithdraw('faucet')">–í—ã–≤–µ—Å—Ç–∏ –Ω–∞ FaucetPay</button>
        </div>
      </div>

      <div style="margin-top:12px;">
        <h4>–ò—Å—Ç–æ—Ä–∏—è –∑–∞—è–≤–æ–∫</h4>
        <div id="withdrawHistory"></div>
        <div style="margin-top:6px;">
          <button class="btn" id="prevWithdraw" onclick="paginateWithdraw(-1)">‚óÄ Prev</button>
          <button class="btn" id="nextWithdraw" onclick="paginateWithdraw(1)">Next ‚ñ∂</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Referrals -->
  <section id="referrals">
    <div class="card">
      <h3>Referrals</h3>
      <div class="small">–í—Å—Ç–∞–≤—å —Ä–µ—Ñ–µ—Ä–∞–ª (—Ä–µ–∞–ª—å–Ω—ã–π telegram username) ‚Äî 10% –±–æ–Ω—É—Å –æ—Ç –Ω–∞–≥—Ä–∞–¥ —Ä–µ—Ñ–µ—Ä–∞–ª–∞</div>
      <input id="referralInput" placeholder="@telegram_username" />
      <button class="btn" onclick="setReferral()">Set Referral</button>
      <div style="margin-top:8px;">Total referrals: <span id="refCount">0</span></div>
      <div style="margin-top:8px;">
        Claimable referral bonus: ‚Ç±<span id="refBonus">0.00</span><button class="btn" onclick="claimReferralBonus()">Claim Bonus</button>
      </div>
    </div>
  </section>

  <!-- Chat -->
  <section id="chat">
    <div class="card">
      <h3>CHAT (–ø—É–±–ª–∏—á–Ω—ã–π)</h3>
      <div class="small">Cooldown –æ—Ç–ø—Ä–∞–≤–∫–∏: 4 –º–∏–Ω—É—Ç—ã. –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ä–µ–∫–ª–∞–º—É –∏ –Ω–∞–≥—Ä–∞–∂–¥–∞–µ—Ç ‚Ç±0.02.</div>
      <div id="chatMessages" style="max-height:360px; overflow:auto; border:1px solid #eee; padding:8px; margin-bottom:8px;"></div>
      <input id="chatInput" placeholder="–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ..." />
      <button class="btn" onclick="sendChatMessage()">Send (rewarded ad)</button>
      <div style="margin-top:8px;"><button class="btn" onclick="loadMoreChat()">Load more</button></div>
    </div>
  </section>

  <!-- Profile -->
  <section id="profile">
    <div class="card">
      <h3>Profile</h3>
      <div>Username: <span id="profileUsername">‚Äî</span></div>
      <div>Total referrals: <span id="profileRefCount">0</span></div>
      <div>Total ads watched: <span id="profileAdsCount">0</span></div>
      <div>Ads/day: <span id="adsDay">0</span>, week: <span id="adsWeek">0</span>, all: <span id="adsAll">0</span></div>
    </div>
  </section>

  <!-- Leaderboards -->
  <section id="leaders">
    <div class="card">
      <h3>Top Earners (real-time)</h3>
      <div id="leadersTable"></div>
    </div>
  </section>

  <section id="adsleaders">
    <div class="card">
      <h3>Ads Leaderboard (by ads watched)</h3>
      <div id="adsLeadersTable"></div>
      <div class="small">Top 5 weekly auto-bonus: ‚Ç±10 when reset (owner must run weekly payout or enable cron Cloud Function)</div>
      <button class="btn" onclick="runWeeklyPayout()">Run weekly payout (owner)</button>
    </div>
  </section>

  <!-- Help -->
  <section id="help">
    <div class="card">
      <h3>Help & Links</h3>
      <div><a class="link" href="https://t.me/paperhouseinc" target="_blank">Telegram Group</a></div>
      <div><a class="link" href="https://t.me/PAPERHOUSE_INC" target="_blank">Telegram Channel</a></div>
      <div><a class="link" href="https://facebook.com/groups/1193693469083843/" target="_blank">Facebook Group</a></div>
      <div><a class="link" href="https://www.facebook.com/profile.php?id=61586281245735" target="_blank">Facebook Page</a></div>
    </div>
  </section>

  <!-- OWNER MODAL -->
  <div id="ownerModal" class="modal hidden">
    <div class="box">
      <h3>Owner Dashboard ‚Äî Approval</h3>
      <div id="ownerContent"></div>
      <div style="margin-top:8px;">
        <button class="btn" onclick="closeOwner()">Close</button>
      </div>
    </div>
  </div>

</div>

<!-- –°–∫—Ä–∏–ø—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
<script type="module" src="app.js"></script>
</body>
</html>
