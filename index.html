<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PAPERHOUSE INC - Aide Text</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Firebase SDK Imports (Must be type="module" for modern imports) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";
        
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyBwpa8mA83JAv2A2Dj0rh5VHwodyv5N3dg",
          authDomain: "freegcash-ads.firebaseapp.com",
          databaseURL: "https://freegcash-ads-default-rtdb.asia-southeast1.firebasedatabase.app",
          projectId: "freegcash-ads",
          storageBucket: "freegcash-ads.firebasestorage.app",
          messagingSenderId: "608086825364",
          appId: "1:608086825364:web:3a8e628d231b52c6171781",
          measurementId: "G-Z64B87ELGP"
        };
        
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const db = getFirestore(app); // Initialize Firestore
        
        window.db = db;
        console.log("Firebase and Firestore Initialized.");
    </script>

    <style>
        /* Base Styling and Sky-Blue Background */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            transition: background-color 0.5s ease;
            background-color: skyblue;
            color: #333;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Rainbow Background Class (for click effect) */
        .rainbow-bg {
            animation: rainbow 5s infinite alternate;
        }

        @keyframes rainbow {
            0% { background-color: #ff0000; }
            16% { background-color: #ff7f00; }
            33% { background-color: #ffff00; }
            50% { background-color: #00ff00; }
            66% { background-color: #0000ff; }
            83% { background-color: #4b0082; }
            100% { background-color: #9400d3; }
        }

        /* Header and Footer */        header, footer {
            background-color: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            text-align: center;
            z-index: 10;
        }

        footer {
            margin-top: auto;
            font-size: 0.8em;
            color: #666;
            border-top: 1px solid #ccc;
        }

        /* User Bar and Balance */
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background-color: #fff;
            border-bottom: 1px solid #eee;
        }

        .balance, #userBar {
            font-weight: bold;
            color: #007bff;
        }

        /* Main Content Area */
        .container {
            padding: 20px;
            flex-grow: 1;
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
        }

        /* Buttons Styling */
        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            margin: 4px;
            transition: background-color 0.3s, transform 0.1s;
            font-weight: bold;
            white-space: nowrap;
        }

        .btn:active {
            transform: scale(0.98);
        }

        /* Navigation Buttons Container (Merged and Best Concept) */
        .nav-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 20px;
            gap: 5px;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .nav-buttons .btn {
            background-color: #3498db; /* Blue for navigation */
            color: white;
            box-shadow: 0 3px 0 #2980b9;
        }
        
        .nav-buttons .btn:hover {
            background-color: #2980b9;
        }


        .main-section {
            display: none;
            margin-top: 20px;
            padding: 15px;
            border: 2px solid #007bff;
            border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.8);
        }

        /* Task Box Styling */        .task-box {
            margin-bottom: 15px;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 8px;
            background-color: #f9f9f9;
            text-align: center;
        }
        
        /* Withdrawal Form Styling */
        .withdrawal-form input, .withdrawal-form select {
            width: 100%;
            padding: 10px;
            margin: 5px 0 15px 0;
            box-sizing: border-box;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        /* Table Styling */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        table, th, td {
            border: 1px solid #ddd;
        }
        th, td {
            padding: 8px;
            text-align: left;
            font-size: 0.9em;
        }
        th {
            background-color: #f2f2f2;
        }
        
        /* Status Colors */
        .status-Pending { color: orange; font-weight: bold; }
        .status-Approved, .status-Paid { color: green; font-weight: bold; }
        .status-Denied { color: red; font-weight: bold; }
        
        /* Owner Dashboard Styles */
        #ownerDashboard {
            background-color: #ffe0e0;
            border-color: #ff0000;
        }
    </style>
</head>
<body id="appBody">

    <!-- Reward Popup Element -->
    <div id="rewardPopup"></div>

    <!-- Top Bar: Telegram User and Balance -->
    <div class="top-bar">
        <div id="userBar">üë§ User: Guest</div>
        <div class="balance">Balance: <span id="userBalance">0.000</span> PHP</div>
    </div>

    <!-- Header Title -->
    <header>
        <h1>PAPERHOUSE INC</h1>
        <p>Your Ads Reward Application</p>
    </header>

    <!-- Main Content -->
    <div class="container">
        <!-- Navigation Buttons (Merged Concept) -->
        <div class="nav-buttons">
            <button class="btn" onclick="toggleArea('adsArea')">üçç ADS AREA</button>
            <button class="btn" onclick="toggleArea('giftArea')">üéÅ GIFT AREA</button>
            <button class="btn" onclick="toggleArea('signInArea')">‚úÖ SIGN IN</button>
            <button class="btn" onclick="toggleArea('withdrawalArea')">üí∏ WITHDRAW</button>
            <button class="btn" onclick="toggleArea('referralArea')">üë• REFERRAL</button>
            <button class="btn" onclick="toggleArea('chatArea')">üí¨ CHAT</button>
            <button class="btn" onclick="toggleArea('leaderboardArea')">üèÜ LEADERBOARD</button>
            <button class="btn" onclick="showOwnerDashboardPrompt()">üîë OWNER</button>
            <button class="btn" onclick="showHelpModal()">‚ùì HELP</button>
        </div>

        <!-- --- SECTION CONTAINERS --- -->
        
        <!-- ADS AREA (5 Minute Cooldown) - Default Visible -->
        <div id="adsArea" class="main-section" style="display: block;">
            <h2>Ad Tasks (5 Minute Cooldown)</h2>
            
            <!-- Tasks 1-4 (Existing) -->
            <!-- ... (Tasks 1-4 HTML) ... -->

            <!-- NEW Bonus Task 11 (0.015 PHP) -->
            <div id="task11" class="task-box">
                <h3>‚≠ê Bonus Task #1 ‚≠ê</h3>
                <button class="btn btn-watch" onclick="watchAds(11, '10276123', 0.015, 300000, 'interstitial')">Watch 3 Ads</button>
                <div id="cooldown11" class="cooldown-timer">Ready to watch.</div>
                <button id="claimBtn11" class="btn btn-claim" disabled onclick="claimReward(11, 0.015, 300000)">Claim 0.015 PHP</button>
            </div>
            
            <!-- NEW Bonus Task 12 (0.015 PHP) -->
            <div id="task12" class="task-box">
                <h3>‚≠ê Bonus Task #2 ‚≠ê</h3>
                <button class="btn btn-watch" onclick="watchAds(12, '10337795', 0.015, 300000, 'interstitial')">Watch 3 Ads</button>
                <div id="cooldown12" class="cooldown-timer">Ready to watch.</div>
                <button id="claimBtn12" class="btn btn-claim" disabled onclick="claimReward(12, 0.015, 300000)">Claim 0.015 PHP</button>
            </div>
        </div>

        <!-- SIGN IN AREA (1 Hour Cooldown) -->
        <div id="signInArea" class="main-section">
            <h2>Daily Sign In Tasks (1 Hour Cooldown)</h2>
            <!-- Tasks 5-7 here -->
        </div>
        
        <!-- GIFT AREA (3 Hour Cooldown) -->
        <div id="giftArea" class="main-section">
            <h2>Gift Tasks (3 Hour Cooldown)</h2>
            <!-- Tasks 8-10 here -->
        </div>

        <!-- WITHDRAWAL SECTION -->
        <div id="withdrawalArea" class="main-section">
            <h2>Withdrawal Request</h2>
            
            <div class="withdrawal-form">
                <h3>Current Balance: <span id="withdrawalBalance">0.000</span> PHP</h3>
                <label for="withdrawalMethod">Withdrawal Method:</label>
                <select id="withdrawalMethod" onchange="updateWithdrawalForm()">
                    <option value="gcash">GCash (PHP)</option>
                    <option value="faucetpay">FaucetPay (USDT)</option>
                </select>

                <div id="gcashForm">
                    <label for="gcashNumber">GCash Number:</label>
                    <input type="number" id="gcashNumber" placeholder="Enter 11-digit GCash number" required>
                </div>

                <div id="faucetpayForm" style="display: none;">
                    <label for="faucetpayEmail">FaucetPay Email:</label>
                    <input type="email" id="faucetpayEmail" placeholder="Enter FaucetPay email address" required>
                    <p>Conversion: 1 PHP ‚âà 0.017 USDT (Simulated Rate)</p>
                </div>

                <label for="withdrawalAmount">Amount (PHP):</label>
                <input type="number" id="withdrawalAmount" placeholder="Enter amount to withdraw" required>
                
                <button class="btn btn-main" onclick="submitWithdrawalRequest()">Submit Withdrawal</button>
            </div>

            <h3>Withdrawal History (User View)</h3>
            <p>Total Approved Withdrawals (Global): <span id="totalApprovedWithdrawals">0.00</span> PHP</p>
            <div id="userWithdrawalHistory">
                <table>
                    <thead>
                        <tr><th>Method</th><th>Amount</th><th>Date</th><th>Status</th></tr>
                    </thead>
                    <tbody id="withdrawalHistoryBody">
                        <!-- User's history populated here -->
                    </tbody>
                </table>
                <div id="withdrawalPagination"></div>
            </div>
        </div>
        
        <!-- REFERRALS SECTION, CHAT SECTION, LEADERBOARD SECTION, TOPICS SECTION (HTML content remains the same) -->
        
        <!-- OWNER DASHBOARD -->
        <div id="ownerDashboard" class="main-section">
            <h2>Owner Dashboard - Withdrawal Approvals</h2>
            <p>Total Approved Withdrawals: <strong id="adminTotalApproved">0.00</strong> PHP</p>
            
            <h3>Pending Withdrawal Requests (Priority List)</h3>
            <div id="pendingRequestsTable">
                <table>
                    <thead>
                        <tr><th>User</th><th>Method</th><th>Amount</th><th>Date</th><th>Action</th></tr>
                    </thead>
                    <tbody id="pendingRequestsBody">
                        <!-- Withdrawal requests populated here -->
                    </tbody>
                </table>
                <div id="adminPagination"></div>
            </div>
        </div>
        
        <!-- Automatic Ad Area -->
        <div style="margin-top: 30px; padding: 10px; border: 1px dashed #ccc;">
            <h3>Automatic Interstitial Ad Status</h3>
            <p id="autoAdStatus">Checking for available ads...</p>
        </div>
        
    </div>

    <!-- Help Section Modal -->
    <div id="helpModal" class="help-modal">
        <!-- ... (Help Modal HTML content remains the same) ... -->
    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; <span id="currentYear"></span> PAPERHOUSE INC | Contact: otico.isai2@gmail.com</p>
        <p>Current Time: <span id="currentTime"></span></p>
    </footer>

    <script src="app.js"></script>
</body>
</html>
