<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PAPERHOUSE - Unified</title>

  <!-- Monetag / ad SDK placeholders (required by app.js) -->
  <script src="//libtl.com/sdk.js" data-zone="10337853" data-sdk="show_10337853"></script>
  <script src="//libtl.com/sdk.js" data-zone="10337795" data-sdk="show_10337795"></script>
  <script src="//libtl.com/sdk.js" data-zone="10276123" data-sdk="show_10276123"></script>

  <!-- Telegram WebApp (optional integration) -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">

  <style>
    :root {
      --neon: #00f2ff;
      --glass: rgba(255,255,255,0.04);
      --muted: #999;
      --ok: #2ecc71;
      --warn: #f1c40f;
    }
    html,body{height:100%;margin:0;background:#000;color:#fff;font-family:'Rajdhani',sans-serif;}
    .header{position:sticky;top:0;background:#000;padding:10px 12px;border-bottom:1px solid rgba(255,255,255,0.04);text-align:center;z-index:10}
    .user-tag{font-family:'Orbitron',sans-serif;color:var(--neon);font-size:14px}
    .bal{font-size:18px;color:var(--ok);font-weight:700;margin-top:6px}

    .container{padding:12px}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .btn{background:#222;border-radius:10px;padding:12px;font-weight:700;color:#fff;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center}
    .btn.full{grid-column:span 2}
    .btn.neon{background:var(--neon);color:#000}
    .card{background:var(--glass);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}
    .small{font-size:12px;color:var(--muted)}

    .page{display:none}
    .page.active{display:block}

    .overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.85);z-index:1000}
    .hidden{display:none}

    table{width:100%;border-collapse:collapse;font-size:13px}
    th,td{padding:8px;border-bottom:1px solid rgba(255,255,255,0.04);text-align:left}
    .status-Pending{color:var(--warn)}
    .status-Approved{color:var(--ok)}
    .muted{color:var(--muted)}

    input[type="text"], input[type="password"]{width:100%;padding:10px;border-radius:8px;border:1px solid #333;background:#0b0b0b;color:#fff;box-sizing:border-box}
    .controls{display:flex;gap:8px}    .controls .btn{flex:1}
    @media (max-width:560px){ .grid{grid-template-columns:1fr 1fr} }
  </style>
</head>
<body>
  <div class="header">
    <div class="user-tag" id="live-user">@guest</div>
    <div class="bal" id="live-bal">â‚±0.000</div>
  </div>

  <div class="container">
    <!-- MAIN MENU -->
    <div id="page-main" class="page active">
      <div class="grid">
        <button class="btn full" onclick="navTo('page-gift')">ğŸğŸ’ PAPER HOUSE Gift ğŸ’ğŸ</button>

        <button class="btn" onclick="openChat('elementary')">ğŸ“˜ ELEMENTARY CHAT</button>
        <button class="btn" onclick="openChat('highschool')">ğŸ“— HIGHSCHOOL CHAT</button>

        <button class="btn" onclick="openChat('college')">ğŸ“™ COLLEGE CHAT</button>
        <button class="btn" onclick="navTo('page-leader')">ğŸº TOP LEADERBOARD</button>

        <button class="btn" onclick="navTo('page-withdraw')">ğŸ”” WITHDRAWAL</button>
        <button class="btn" onclick="navTo('page-referral')">ğŸ’ REFERRALS</button>

        <button class="btn" onclick="navTo('page-online')">ğŸ‘¥ ONLINE USERS</button>
        <button class="btn" onclick="navTo('page-help')">ğŸ— HELP SECTION</button>

        <button class="btn" onclick="openOwnerAuth()">ğŸ–OWNER DASHBOARDğŸ–</button>
        <button class="btn full" onclick="navTo('page-bonus')">ğŸ’ğŸ’ BONUS ADS ğŸ’ğŸ’</button>
      </div>
    </div>

    <!-- CHAT PAGE (used for all rooms) -->
    <div id="page-chat" class="page">
      <div style="margin-bottom:10px"><button class="btn" onclick="navTo('page-main')">â¬… Back</button></div>
      <h3 id="chat-title">Chat</h3>
      <div id="chat-box" class="card" style="height:320px;overflow:auto;margin-bottom:8px"></div>

      <div class="controls">
        <input id="chat-input" type="text" placeholder="Type message..." />
        <button class="btn neon" onclick="sendChat()">SEND</button>
      </div>
      <div class="small">Earn â‚±0.015 per message (ad required)</div>
    </div>

    <!-- GIFT PAGE -->
    <div id="page-gift" class="page">
      <div style="margin-bottom:10px"><button class="btn" onclick="navTo('page-main')">â¬… Back</button></div>
      <h3>ğŸ PAPER HOUSE Gifts</h3>

      <div class="card" style="margin-bottom:8px">        <div>Gift #1 (â‚±0.01) <span id="cd-1" class="muted">READY</span></div>
        <div style="margin-top:8px">
          <button id="btn-g1" class="btn full neon" onclick="watchGift(1)">Watch Ad & Claim</button>
        </div>
      </div>

      <div class="card">
        <div>Gift #2 (â‚±0.01) <span id="cd-2" class="muted">READY</span></div>
        <div style="margin-top:8px">
          <button id="btn-g2" class="btn full neon" onclick="watchGift(2)">Watch Ad & Claim</button>
        </div>
      </div>
    </div>

    <!-- BONUS ADS -->
    <div id="page-bonus" class="page">
      <div style="margin-bottom:10px"><button class="btn" onclick="navTo('page-main')">â¬… Back</button></div>
      <div class="card" style="text-align:center">
        <h3>ğŸ’ BONUS ADS</h3>
        <div>Reward: â‚±0.015 | Cooldown: 5 min</div>
        <div id="bonus-timer" style="margin-top:8px" class="muted">READY</div>
        <div style="margin-top:10px">
          <button id="btn-bonus" class="btn full neon" onclick="watchBonus()">Watch 3 Combined Ads</button>
        </div>
      </div>
    </div>

    <!-- WITHDRAWAL -->
    <div id="page-withdraw" class="page">
      <div style="margin-bottom:10px"><button class="btn" onclick="navTo('page-main')">â¬… Back</button></div>
      <div class="card" style="margin-bottom:10px">
        <input id="wd-acc" type="text" placeholder="Enter GCash or FaucetPay number / details" />
        <divstyle="margin-top:10px"><button class="btn full" onclick="submitWithdraw()">Submit Withdrawal</button></div>
      </div>

      <h4>History</h4>
      <div class="card" style="padding:0;overflow:auto">
        <table>
          <thead><tr><th>Amount</th><th>Status</th><th>Date</th></tr></thead>
          <tbody id="user-wd-list"></tbody>
        </table>
      </div>
    </div>

    <!-- OWNER DASHBOARD (password overlay triggers navigation here) -->
    <div id="page-owner" class="page">
      <div style="margin-bottom:10px"><button class="btn" onclick="navTo('page-main')">â¬… Back</button></div>
      <h3>ğŸ– OWNER DASHBOARD</h3>
      <div class="card" style="padding:0;overflow:auto">
        <table>
          <thead><tr><th>User</th><th>GCash / Account Info</th><th>Amount</th><th>Status</th><th>Action</th></tr></thead>
          <tbody id="owner-list"></tbody>
        </table>
      </div>
      <div style="display:flex;justify-content:space-between;margin-top:10px">
        <button class="btn" onclick="changeOwnerPage(-1)">PREV</button>
        <div id="owner-page-num" class="muted">1</div>
        <button class="btn" onclick="changeOwnerPage(1)">NEXT</button>
      </div>
    </div>

    <!-- ONLINE -->
    <div id="page-online" class="page">
      <div style="margin-bottom:10px"><button class="btn" onclick="navTo('page-main')">â¬… Back</button></div>
      <h3>ğŸ‘¥ Online Users (<span id="online-count">0</span>)</h3>
      <div id="online-list" class="card"></div>
    </div>

    <!-- LEADERBOARD -->
    <div id="page-leader" class="page">
      <div style="margin-bottom:10px"><button class="btn" onclick="navTo('page-main')">â¬… Back</button></div>
      <h3>ğŸº TOP LEADERBOARD</h3>
      <div class="card" style="padding:0;overflow:auto">
        <table>
          <thead><tr><th>#</th><th>User</th><th>Balance</th></tr></thead>
          <tbody id="leader-list"></tbody>
        </table>
      </div>
    </div>

    <!-- REFERRAL -->
    <div id="page-referral" class="page">
      <div style="margin-bottom:10px"><button class="btn" onclick="navTo('page-main')">â¬… Back</button></div>
      <div class="card" style="margin-bottom:8px">
        <div>Your referral code: <b id="my-code" class="muted">...</b></div>
        <div>Referral bonus: â‚±<span id="ref-bal">0.000</span></div>
        <div style="margin-top:8px"><button class="btn full" onclick="claimRef()">Claim Bonus</button></div>
      </div>

      <div class="card">
        <input id="bind-code" type="text" placeholder="Enter friend's code" />
        <div style="margin-top:8px"><button class="btn full" onclick="bindRef()">Bind Referral</button></div>
      </div>
    </div>

    <!-- HELP -->
    <div id="page-help" class="page">
      <div style="margin-bottom:10px"><button class="btn" onclick="navTo('page-main')">â¬… Back</button></div>
      <h3>ğŸ— Help Section</h3>
      <div style="margin-top:8px">
        <button class="btn full" onclick="window.open('https://t.me/paperhouseinc')">Official Telegram</button>
        <button class="btn full" style="margin-top:8px" onclick="window.open('https://facebook.com/groups/paperhouse')">Facebook Group</button>
      </div>
    </div>

  </div>

  <!-- Owner auth overlay -->
  <div id="owner-auth" class="overlay hidden">
    <div class="card" style="width:90%;max-width:420px;text-align:center">
      <h3 style="color:var(--neon)">Owner Access</h3>
      <input id="owner-pass" type="password" placeholder="Enter Owner Password" />
      <div style="margin-top:10px">
        <button class="btn full neon" onclick="submitOwnerAuth()">Unlock</button></div>
      <div style="margin-top:8px">
        <button class="btn full" onclick="closeOwnerAuth()">Cancel</button>
      </div>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
