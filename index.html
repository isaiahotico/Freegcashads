
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUMINA: Ad & Reward System</title>
    <!-- Combined CSS -->
    <style>
        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #0e0e0e; /* Dark background for LUMINA */
            color: #ffffff;
            overflow-x: hidden; /* Prevent horizontal scrollbars */
        }

        #app {
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background: #1a1a2e; /* Darker background for app container */
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3); /* Cyan glow */
        }

        .section {
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #0f3460;
            border-radius: 8px;
            background-color: #0f1c30; /* Slightly lighter inner section */
        }

        .hidden {
            display: none !important;
        }

        /* Header */
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid #0f3460;
        }

        header h1 {
            color: #00e6e6; /* Bright cyan */
            text-shadow: 0 0 5px #00e6e6;
        }

        header p {
            font-size: 0.9em;
            color: #ccc;
        }

        /* Inputs & Buttons */
        input[type="email"],
        input[type="password"],
        input[type="text"],
        input[type="number"] {
            width: calc(100% - 22px);
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #0f3460;
            border-radius: 5px;
            background-color: #0d1726;
            color: #fff;
            font-size: 1em;
        }

        input[type="email"]::placeholder,
        input[type="password"]::placeholder,
        input[type="text"]::placeholder,
        input[type="number"]::placeholder {
            color: #777;
        }

        button {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            background-color: #007bff;
            color: #fff;
            cursor: pointer;
            font-size: 1em;
            margin-right: 10px;
            transition: background-color 0.3s ease, transform 0.1s ease;
        }

        button:hover:not(:disabled) {
            background-color: #0056b3;
            transform: translateY(-1px);
        }

        button:active:not(:disabled) {
            transform: translateY(0);
        }

        button:disabled {
            background-color: #333;
            cursor: not-allowed;
            opacity: 0.6;
        }

        .action-btn {
            background-color: #4CAF50; /* Green for actions */
        }
        .action-btn:hover:not(:disabled) {
            background-color: #45a049;
        }

        /* Messages */
        p#auth-message, p#withdrawal-message, p#owner-message {
            color: #ffda00; /* Yellow for warnings/messages */
            text-align: center;
            margin-top: 10px;
        }

        /* User Info */
        .user-info {
            text-align: center;
            margin-bottom: 20px;
        }
        .user-info p {
            font-size: 1.1em;
            margin: 5px 0;
        }
        #user-balance {
            color: #00ff00; /* Bright green for balance */
            font-weight: bold;
            font-size: 1.2em;
        }

        hr {
            border: none;
            border-top: 1px solid #0f3460;
            margin: 30px 0;
        }

        .subsection {
            margin-top: 30px;
        }

        h2 {
            color: #00e6e6;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 0 0 3px #00e6e6;
        }

        /* Tables (Leaderboard, Withdrawal Requests) */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            font-size: 0.9em;
        }

        table th, table td {
            border: 1px solid #0f3460;
            padding: 10px;
            text-align: left;
        }

        table th {
            background-color: #0f2a4a;
            color: #00e6e6;
            font-weight: bold;
        }

        table td {
            background-color: #0d1726;
            color: #eee;
        }

        table tbody tr:nth-child(even) {
            background-color: #0b1420; /* Slightly different background for even rows */
        }

        /* Leaderboard specific */
        .leaderboard-header {
            text-align: center;
            font-size: 0.8em;
            color: #aaa;
            margin-bottom: 10px;
        }

        /* Owner Dashboard specific */
        .pagination-controls {
            text-align: center;
            margin-top: 20px;
        }
        .pagination-controls button {
            margin: 0 5px;
        }
        #page-info {
            color: #ccc;
            font-size: 0.9em;
        }

        /* Withdrawal Request Status Colors */
        .status-pending { color: #ffda00; font-weight: bold; }
        .status-approved { color: #4CAF50; font-weight: bold; }
        .status-rejected { color: #f44336; font-weight: bold; }

        @media (max-width: 768px) {
            #app {
                margin: 10px;
                padding: 15px;
            }
            table, table th, table td {
                display: block;
                width: 100%;
            }
            table thead {
                display: none;
            }
            table tbody tr {
                margin-bottom: 10px;
                display: block;
                border: 1px solid #0f3460;
                border-radius: 5px;
                padding: 10px;
            }
            table tbody td {
                text-align: right;
                padding-left: 50%;
                position: relative;
                border: none;
                background-color: transparent;
            }
            table tbody td::before {
                content: attr(data-label);
                position: absolute;
                left: 10px;
                width: calc(50% - 20px);padding-right: 10px;
                white-space: nowrap;
                text-align: left;
                font-weight: bold;
                color: #00e6e6;
            }
            button {
                display: block;
                width: 100%;
                margin-right: 0;
                margin-bottom: 10px;
            }
            header button {
                width: auto;
                display: inline-block;
            }
        }
    </style>
    <!-- Monetag SDK - Note: 'async' helps load without blocking -->
    <script src='//libtl.com/sdk.js' data-zone='10337795' data-sdk='show_10337795' async></script>
</head>
<body>
    <div id="app">
        <!-- Authentication Section (visible by default) -->
        <div id="auth-section" class="section">
            <h2>Welcome to LUMINA</h2>
            <input type="email" id="auth-email" placeholder="Email">
            <input type="password" id="auth-password" placeholder="Password">
            <input type="text" id="auth-telegram" placeholder="Telegram Username (e.g., @your_username)">
            <button id="login-btn">Login</button>
            <button id="register-btn">Register</button>
            <p id="auth-message"></p>
        </div>

        <!-- Main App Section (User Dashboard - hidden initially) -->
        <div id="main-app-section" class="section hidden">
            <header>
                <h1>LUMINA: Your Canvas</h1>
                <p>Welcome, <span id="display-username"></span>! (<span id="display-telegram"></span>)</p>
                <button id="logout-btn">Logout</button>
            </header>

            <div class="user-info">
                <p>Current Balance: <span id="user-balance">0.000</span> PHP</p>
                <p>Ads Watched This Week: <span id="ads-watched-count">0</span></p>
                <button id="show-rewarded-ad-btn" class="action-btn">Watch Ad for 0.012 PHP</button>
            </div>

            <hr>

            <!-- Leaderboard Section -->
            <section class="subsection">
                <h2>ðŸ‘‘ Top Lumina Earners (Weekly)</h2>
                <div class="leaderboard-header">
                    <p>Resets every: <span id="leaderboard-reset-info"></span></p>
                </div>
                <table id="leaderboard-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>User</th>
                            <th>Total Earned</th>
                            <th>Ads Watched</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Leaderboard rows will be inserted here by app.js -->
                    </tbody>
                </table>
            </section>

            <hr>

            <!-- Withdrawal Section -->
            <section class="subsection">
                <h2>ðŸ’° Request Withdrawal</h2>
                <input type="text" id="gcash-number" placeholder="GCash Number">
                <input type="number" id="withdrawal-amount" placeholder="Amount (PHP)" step="0.01">
                <button id="request-withdrawal-btn" class="action-btn">Request Withdrawal</button>
                <p id="withdrawal-message"></p>
            </section>

            <hr>

            <!-- Owner Dashboard Access -->
            <section class="subsection">
                <h2>ðŸ”‘ Owner Dashboard Access</h2>
                <button id="access-owner-dashboard-btn" class="action-btn">Access Dashboard</button>
            </section>
        </div>

        <!-- Owner Dashboard Section (hidden initially) -->
        <div id="owner-dashboard-section" class="section hidden">
            <header><h1>Owner Dashboard</h1>
                <input type="password" id="owner-password-input" placeholder="Owner Password">
                <button id="owner-login-btn">Login</button>
                <button id="owner-logout-btn" class="hidden">Back to Main App</button>
                <p id="owner-message"></p>
            </header>

            <div id="owner-dashboard-content" class="hidden">
                <h2>Pending Withdrawal Requests</h2>
                <table id="withdrawal-requests-table">
                    <thead>
                        <tr>
                            <th>Req ID</th>
                            <th>User</th>
                            <th>Telegram</th>
                            <th>GCash</th>
                            <th>Amount</th>
                            <th>Date</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Withdrawal requests will be inserted here by app.js -->
                    </tbody>
                </table>
                <div class="pagination-controls">
                    <button id="prev-page-btn" disabled>&laquo; Previous</button>
                    <span id="page-info">Page 1 of 1</span>
                    <button id="next-page-btn" disabled>Next &raquo;</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App Logic -->
    <script type="module" src="app.js"></script>
</body>
</html>
