<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paper House Network</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css"> <!-- Assuming you have a style.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body id="appBody" style="margin: 0; padding: 0;">

    <div class="header" id="userBar">
        <span id="userDisplay">ğŸ‘¤ User: Loading...</span>
        <span id="balanceDisplay">â‚±0.000</span>
    </div>

    <div class="container" id="mainMenu">
        <h1 class="text-center my-4 animate__animated animate__pulse animate__infinite animate__slow">
            <strong>âœ¨ PAPER HOUSE NETWORK âœ¨</strong>
        </h1>

        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="btn-grid">
                    <button class="btn btn-primary btn-lg btn-block mb-2" onclick="openView('elementaryChatView')">ğŸ“˜ ELEMENTARY CHAT ğŸ“˜</button>
                    <button class="btn btn-secondary btn-lg btn-block mb-2" onclick="openView('highschoolChatView')">ğŸ“— HIGHSCHOOL CHAT ğŸ“—</button>
                    <button class="btn btn-dark btn-lg btn-block mb-2" onclick="openView('collegeChatView')">ğŸ“™ COLLEGE CHAT ğŸ“™</button>
                    
                    <button class="btn btn-info btn-lg btn-block mb-2" onclick="openView('onlineUsersView')">ğŸ‘¥ ONLINE USERS ğŸ‘¥</button>
                    <button class="btn btn-warning btn-lg btn-block mb-2" onclick="openView('leaderboardView')">ğŸº TOP LEADERBOARD ğŸº</button>
                    <button class="btn btn-success btn-lg btn-block mb-2" onclick="openView('withdrawalView')">ğŸ”” WITHDRAWAL ğŸ””</button>
                    <button class="btn btn-light btn-lg btn-block mb-2" onclick="openView('helpView')">ğŸ— HELP SECTION ğŸ—</button>
                    
                    <!-- Owner Dashboard Button (Conditional) -->lineUsersList"></ul>
        <p id="onlineUsersCount"></p>
    </div>

    <!-- Leaderboard View -->
    <div id="leaderboardView" class="page-view">
        <div class="header-nav">
            <button class="btn btn-dark" onclick="openView('mainMenu')">â¬…ï¸ Back</button>
            <h3>ğŸº TOP LEADERBOARD ğŸº</h3>
            <div>
                <button class="btn btn-primary" onclick="navigateLeaderboardPage('prev')" id="prevLeaderboardBtn" disabled>â¬…ï¸ Prev</button>
                <button class="btn btn-primary" onclick="navigateLeaderboardPage('next')" id="nextLeaderboardBtn">Next â¡ï¸</button>
            </div>
        </div>
        <ol id="leaderboardList"></ol>
    </div>

    <!-- Withdrawal View -->
    <div id="withdrawalView" class="page-view">
        <div class="header-nav">
            <button class="btn btn-dark" onclick="openView('mainMenu')">â¬…ï¸ Back</button>
            <h3>ğŸ”” WITHDRAWAL ğŸ””</h3>
            <div>
                <button class="btn btn-primary" onclick="navigateWithdrawalPage('prev')" id="prevWithdrawalBtn" disabled>â¬…ï¸ Prev</button>
                <button class="btn btn-primary" onclick="navigateWithdrawalPage('next')" id="nextWithdrawalBtn">Next â¡ï¸</button>
            </div>
        </div>
        <div id="withdrawalStatus">
            <p>Current Balance: <strong id="withdrawalBalanceDisplay"></strong></p>
            <p>Minimum Withdrawal: <strong>â‚±10.000</strong></p>
            <p>First Time Withdrawal? <strong id="firstTimeWithdrawalStatus">Checking...</strong></p>
        </div>
        <div class="withdrawal-form">
            <h4>Request Withdrawal</h4>
            <input type="text" id="withdrawalAmount" placeholder="Amount to withdraw (e.g., 10.000)">
            <input type="text" id="gcash_account" placeholder="GCash Account Number">
            <input type="text" id="gcash_name" placeholder="GCash Account Name">
            <button onclick="submitWithdrawal()" id="submitWithdrawalBtn">Request Withdrawal</button>
            <p id="withdrawalMessage" class="mt-2"></p>
        </div>
        <h4>Withdrawal History</h4>
        <ul id="withdrawalHistoryList"></ul>
    </div>

    <!-- Help Section View -->
    <div id="helpView" class="page-view">
        <div class="header-nav">
            <button class="btn btn-dark" onclick="openView('mainMenu')">â¬…ï¸ Back</button>
            <h3>ğŸ— HELP SECTION ğŸ—</h3>
            <div></div>
        </div>
        <div class="help-content">
            <h4>Welcome to Paper House Network!</h4>
            <p><strong>How to Earn:</strong></p>
            <ul>
                <li>Engage in chats (Elementary, Highschool, College) by sending messages. You'll earn â‚±0.015 per message after watching an ad.</li>
                <li>Watch bonus ads for extra rewards.</li>
                <li>Claim daily gifts through the "Paper House Gift" section after watching special popup ads.</li>
                <li>Refer friends to earn a percentage of their earnings.</li>
            </ul>
            <p><strong>Withdrawal:</strong></p>
            <ul>
                <li>Minimum withdrawal is â‚±10.000.</li>
                <li>Withdrawals are processed manually and may take time.</li>
                <li>Ensure your GCash details are correct.</li>
            </ul>
            <p><strong>Important Notes:</strong></p>
            <ul>
                <li>Ads are essential to support our platform. Please disable ad blockers.</li>
                <li>Abuse of the system (e.g., bots, spamming) will result in account suspension.</li>
                <li>The value of Pesos earned may vary based on ad revenue.</li>
            </ul>
            <p><strong>Contact Support:</strong> If you have any issues, please contact our support channel within Telegram.</p>
        </div>
    </div>

    <!-- Owner Dashboard View -->
    <div id="ownerDashboardView" class="page-view">
        <div class="header-nav">
            <button class="btn btn-dark" onclick="openView('mainMenu')">â¬…ï¸ Back</button>
            <h3>ğŸ– OWNER DASHBOARD ğŸ–</h3>
            <div></div>
        </div>
        
        <div id="ownerLogin">
            <h4>Owner Authentication</h4>
            <input type="password" id="ownerPassword" placeholder="Enter Password">
            <button onclick="authenticateOwner()">Login</button>
            <p id="ownerLoginMessage"></p>
        </div>

        <div id="ownerDashboardContent" style="display: none;">
            <h4>Dashboard Overview</h4>
            <p>Total Users: <strong id="ownerTotalUsers"></strong></p>
            <p>Total Approved Withdrawals: <strong id="ownerTotalApprovedWithdrawals"></strong></p>
            <p>Total Pending Withdrawals: <strong id="ownerTotalPendingWithdrawals"></strong></p>
            <p>Total Earnings (Estimated): <strong id="ownerTotalEarnings"></strong></p>

            <h4>Withdrawal Management</h4>
            <div class="owner-nav">
                <button class="btn btn-primary" onclick="navigateOwnerPage('prev')" id="prevOwnerBtn" disabled>â¬…ï¸ Prev</button>
                <button class="btn btn-primary" onclick="navigateOwnerPage('next')" id="nextOwnerBtn">Next â¡ï¸</button>
            </div>
            <ul id="ownerWithdrawalList"></ul>
            
            <h4>Recent Activity Log</h4>
            <ul id="ownerActivityLog"></ul>
        </div>
    </div>

    <!-- NEW: Paper House Gift View -->
    <div id="giftView" class="page-view">
        <div class="header-nav">
            <button class="btn btn-dark" onclick="openView('mainMenu')">â¬…ï¸ Back</button>
            <h3 style="margin: 0;">ğŸğŸ’ PAPER HOUSE GIFTS ğŸ’ğŸ</h3>
            <div></div>
        </div>

        <div class="bonus-ad-container" style="background: #e8f5e9; border: 1px solid #81c784; margin-top: 15px;">
            <h4>Unlock Daily Gifts!</h4>
            <p>Watch special popup ads to earn rewards.</p>
            <div class="bonus-ad-buttons" style="display: flex; justify-content: space-around; flex-wrap: wrap;">
                <button class="btn btn-success mb-2" onclick="showGiftAd('gift1')">ğŸğŸ’ GIFT #1 ğŸ’ğŸ</button>
                <button class="btn btn-info mb-2" onclick="showGiftAd('gift2')">ğŸğŸ’ GIFT #2 ğŸ’ğŸ</button>
                <button class="btn btn-danger mb-2" onclick="showGiftAd('gift3')">ğŸğŸ’ GIFT #3 ğŸ’ğŸ</button>
            </div>
        </div>

        <!-- Gift #1 Reward Section -->
        <div class="bonus-reward-section" id="gift1RewardSection" style="background: #fff9c4; border: 1px solid #fbc02d; margin-top: 15px;">
            <h4>Gift #1 Reward</h4>
            <p>Unlock a â‚±0.010 reward.</p>
            <p id="gift1CooldownInfo">Reward available in: <span id="gift1RewardTimer">00:00:00</span></p>
            <button id="claimGift1RewardBtn" class="btn btn-warning" onclick="claimGiftReward('gift1')" disabled style="background-color: #ffc107; color: #333; margin-top: 10px;">Claim â‚±0.010</button>
            <p class="referrer-bonus-info">Reward claimable once every 3 hours.</p>
        </div>

        <!-- Gift #2 Reward Section -->
        <div class="bonus-reward-section" id="gift2RewardSection" style="background: #fce4ec; border: 1px solid #f48fb1; margin-top: 15px;">
            <h4>Gift #2 Reward</h4>
            <p>Unlock a â‚±0.010 reward.</p>
            <p id="gift2CooldownInfo">Reward available in: <span id="gift2RewardTimer">00:00:00</span></p>
            <button id="claimGift2RewardBtn" class="btn btn-danger" onclick="claimGiftReward('gift2')" disabled style="background: #dc3545; color: white; margin-top: 10px;">Claim â‚±0.010</button>
            <p class="referrer-bonus-info">Reward claimable once every 3 hours.</p>
        </div>

        <!-- Gift #3 Reward Section -->
        <div class="bonus-reward-section" id="gift3RewardSection" style="background: #e0f7fa; border: 1px solid #80deea; margin-top: 15px;">
            <h4>Gift #3 Reward</h4>
            <p>Unlock a â‚±0.010 reward.</p>
            <p id="gift3CooldownInfo">Reward available in: <span id="gift3RewardTimer">00:00:00</span></p>
            <button id="claimGift3RewardBtn" class="btn btn-info" onclick="claimGiftReward('gift3')" disabled style="background: #17a2b8; color: white; margin-top: 10px;">Claim â‚±0.010</button>
            <p class="referrer-bonus-info">Reward claimable once every 3 hours.</p>
        </div>
    </div>

    <!-- Referrals View -->
    <div id="referralsView" class="page-view">
        <div class="header-nav">
            <button class="btn btn-dark" onclick="openView('mainMenu')">â¬…ï¸ Back</button>
            <h3>ğŸ’ REFERRALS ğŸ’</h3>
            <div>
                <button class="btn btn-primary" onclick="navigateReferralsPage('prev')" id="prevReferralsBtn" disabled>â¬…ï¸ Prev</button>
                <button class="btn btn-primary" onclick="navigateReferralsPage('next')" id="nextReferralsBtn">Next â¡ï¸</button>
            </div>
        </div>
        <div class="referral-info">
            <h4>Your Referral Code: <strong id="userReferralCode"></strong></h4>
            <p>Share this code with friends to earn rewards!</p>
            <button onclick="copyReferralCode()" class="btn btn-secondary">Copy Code</button>
        </div>
        <div class="referral-stats">
            <p>Friends Referred: <strong id="referralCount">0</strong></p>
            <p>Total Referral Bonus Earned: <strong id="totalReferralBonus">â‚±0.000</strong></p>
            <button onclick="claimReferralBonus()" class="btn btn-success" id="claimReferralBonusBtn" disabled>Claim Available Bonus</button>
        </div>
        <h4>Referral History</h4>
        <ul id="referralHistoryList"></ul>
    </div>

    <!-- Bonus Ads View -->
    <div id="bonusAdsView" class="page-view">
        <div class="header-nav">
            <button class="btn btn-dark" onclick="openView('mainMenu')">â¬…ï¸ Back</button>
            <h3>ğŸ’ğŸ’ BONUS ADS ğŸ’ğŸ’</h3>
            <div></div>
        </div>
        <div class="bonus-ad-container" style="background: #e0f7fa; border: 1px solid #80deea;">
            <h4>Watch Ads, Earn More!</h4>
            <p>Watch rewarded ads to claim bonus rewards.</p>
            <div class="bonus-ad-buttons" style="display: flex; justify-content: space-around; flex-wrap: wrap;">
                <button class="btn btn-primary mb-2" onclick="showBonusAds('bonus1')">ğŸ’¥ BONUS AD #1 ğŸ’¥</button>
                <button class="btn btn-secondary mb-2" onclick="showBonusAds('bonus2')">ğŸ’¥ BONUS AD #2 ğŸ’¥</button>
                <button class="btn btn-info mb-2" onclick="showBonusAds('bonus3')">ğŸ’¥ BONUS AD #3 ğŸ’¥</button>
            </div>
        </div>

        <div class="bonus-reward-section" id="bonus1RewardSection" style="background: #fff9c4; border: 1px solid #fbc02d; margin-top: 15px;">
            <h4>Bonus Ad #1 Reward</h4>
            <p>Unlock a â‚±0.015 reward.</p>
            <p id="bonus1CooldownInfo">Reward available in: <span id="bonus1RewardTimer">00:00:00</span></p>
            <button id="claimBonus1RewardBtn" class="btn btn-warning" onclick="claimBonusReward('bonus1')" disabled style="background-color: #ffc107; color: #333; margin-top: 10px;">Claim â‚±0.015</button>
            <p class="referrer-bonus-info">Reward claimable once every 20 minutes.</p>
        </div>
        <div class="bonus-reward-section" id="bonus2RewardSection" style="background: #fce4ec; border: 1px solid #f48fb1; margin-top: 15px;">
            <h4>Bonus Ad #2 Reward</h4>
            <p>Unlock a â‚±0.015 reward.</p>
            <p id="bonus2CooldownInfo">Reward available in: <span id="bonus2RewardTimer">00:00:00</span></p>
            <button id="claimBonus2RewardBtn" class="btn btn-danger" onclick="claimBonusReward('bonus2')" disabled style="background: #dc3545; color: white; margin-top: 10px;">Claim â‚±0.015</button>
            <p class="referrer-bonus-info">Reward claimable once every 20 minutes.</p>
        </div>
        <div class="bonus-reward-section" id="bonus3RewardSection" style="background: #e0f7fa; border: 1px solid #80deea; margin-top: 15px;">
            <h4>Bonus Ad #3 Reward</h4>
            <p>Unlock a â‚±0.015 reward.</p>
            <p id="bonus3CooldownInfo">Reward available in: <span id="bonus3RewardTimer">00:00:00</span></p>
            <button id="claimBonus3RewardBtn" class="btn btn-info" onclick="claimBonusReward('bonus3')" disabled style="background: #17a2b8; color: white; margin-top: 10px;">Claim â‚±0.015</button>
            <p class="referrer-bonus-info">Reward claimable once every 20 minutes.</p>
        </div>
    </div>

    <!-- Reward Animation Container -->
    <div id="rewardPopupContainer"></div>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2026 Paper House Inc. | <span id="footer-date"></span></p>
    </footer>

    <script src="app.js"></script>
</body>
</html>
