<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ðŸ”°ðŸ’ŽðŸ“„PAPERHOUSE INC CHATðŸ“„ðŸ’ŽðŸ”°</title>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- Monetag SDKs -->
    <script src='//libtl.com/sdk.js' data-zone='10337853' data-sdk='show_10337853'></script>
    <script src='//libtl.com/sdk.js' data-zone='10337795' data-sdk='show_10337795'></script>
    <script src='//libtl.com/sdk.js' data-zone='10276123' data-sdk='show_10276123'></script>

    <style>
        :root { --glass: rgba(255, 255, 255, 0.2); --grad: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        body { margin: 0; font-family: 'Poppins', sans-serif; min-height: 100vh; transition: 0.5s; display: flex; flex-direction: column; overflow-x: hidden; }
        .bricks { background-image: radial-gradient(circle at 2px 2px, rgba(0,0,0,0.1) 1px, transparent 0); background-size: 32px 32px; background-color: #e5e5f7; }
        
        header { background: rgba(0,0,0,0.85); color: white; padding: 15px; text-align: center; backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 1000; border-bottom: 2px solid gold; }
        .user-panel { background: #1a1a1a; color: #00ffcc; display: flex; justify-content: space-between; padding: 8px 20px; font-weight: bold; font-size: 14px; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }

        nav { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 15px; background: rgba(0,0,0,0.05); }
        .nav-secondary { display: flex; justify-content: center; gap: 20px; padding-bottom: 10px; }
        
        button { border: none; padding: 12px; border-radius: 12px; font-weight: bold; cursor: pointer; transition: 0.3s; color: white; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); }
        button:active { transform: scale(0.9); }

        .page { display: none; padding: 20px; flex-grow: 1; animation: fadeIn 0.4s; }
        .active-page { display: flex; flex-direction: column; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Chat System */
        .chat-box { background: white; border-radius: 20px; height: 400px; display: flex; flex-direction: column; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }        #msg-list { flex-grow: 1; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 8px; }
        .m-line { padding: 8px 15px; border-radius: 15px; max-width: 80%; font-size: 14px; }
        .m-me { align-self: flex-end; background: #007bff; color: white; }
        .m-other { align-self: flex-start; background: #f1f0f0; }

        .claim-area { background: #fff3cd; padding: 15px; text-align: center; border-radius: 15px; margin: 10px; display: none; border: 2px dashed #ffc107; }

        /* Online Users & Tables */
        table { width: 100%; border-collapse: collapse; background: white; border-radius: 10px; overflow: hidden; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #eee; }
        .status-dot { height: 10px; width: 10px; background: #2ecc71; border-radius: 50%; display: inline-block; margin-right: 5px; box-shadow: 0 0 5px #2ecc71; }

        /* Popups */
        #reward-popup { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 2000; pointer-events: none; }
        .anim-coin { font-size: 50px; position: absolute; animation: floatUp 1s ease-out forwards; }
        @keyframes floatUp { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-200px) scale(2); } }

        footer { background: #111; color: #555; padding: 25px; text-align: center; font-size: 13px; margin-top: auto; }
        .aide { font-size: 11px; color: #777; padding: 10px; text-align: center; cursor: pointer; }
    </style>
</head>
<body id="b">

    <header>
        <h3>ðŸ”°ðŸ’ŽðŸ“„PAPERHOUSE INC CHATðŸ“„ðŸ’ŽðŸ”°</h3>
    </header>

    <div class="user-panel">
        <span id="userBar">ðŸ‘¤ @Guest</span>
        <span id="userBalance">ðŸ’° 0.000 Peso</span>
    </div>

    <div class="aide" onclick="changeTheme()">Click background for Magic! Click buttons for Color!</div>

    <nav>
        <button onclick="showPage('elementary')" style="background:#3498db">ðŸ“˜ ELEM</button>
        <button onclick="showPage('highschool')" style="background:#2ecc71">ðŸ“— HIGH</button>
        <button onclick="showPage('college')" style="background:#e67e22">ðŸ“™ COLLEGE</button>
    </nav>
    <div class="nav-secondary">
        <button onclick="showPage('online')" style="background:#9b59b6">ðŸ‘¥ Online</button>        <button onclick="showPage('withdraw')" style="background:#e74c3c">ðŸ”” Withdraw</button>
    </div>

    <!-- Page: Chat (Reused for all 3) -->
    <div id="page-chat" class="page">
        <h4 id="chat-title" style="margin:0 0 10px 0">Chat Room</h4>
        <div class="chat-box">
            <div id="msg-list"></div>
            <div id="claim-box" class="claim-area">
                <p style="margin:0 0 10px 0">ðŸ’Ž Ads Completed! Claim Reward:</p>
                <button id="claimBtn" style="background:gold; color:black">CLAIM 0.015 PESO</button>
            </div>
            <div style="padding:10px; display:flex; gap:5px; background:#f9f9f9">
                <input type="text" id="msgInput" placeholder="Message..." style="flex:1; padding:10px; border-radius:10px; border:1px solid #ddd">
                <button id="sendBtn" style="background:#333">SEND</button>
            </div>
            <div id="cd-msg" style="text-align:center; font-size:11px; color:red; padding-bottom:5px"></div>
        </div>
    </div>

    <!-- Page: Online Users -->
    <div id="page-online" class="page">
        <h4>ðŸ‘¥ Online Users (<span id="online-count">0</span>)</h4>
        <table id="online-table">
            <thead><tr><th>Username</th><th>Status</th></tr></thead>
            <tbody id="online-body"></tbody>
        </table>
    </div>

    <!-- Page: Withdrawal -->
    <div id="page-withdraw" class="page"><div style="background:white; padding:20px; border-radius:20px">
            <h4>ðŸ”” Withdrawal System</h4>
            <p>Min. Withdraw: <b>0.02 Peso</b></p>
            
            <div id="wd-activation" style="background:#eee; padding:15px; border-radius:10px; margin-bottom:15px">
                <p>1st Time? Activate system first:</p>
                <a href="https://youtube.com/@YourChannel" target="_blank" onclick="startWdTimer()" style="color:red; font-weight:bold">SUBSCRIBE TO YOUTUBE</a>
                <div id="wd-timer"></div>
            </div>

            <div id="wd-form" style="display:none">
                <input type="number" id="wd-amount" placeholder="Amount" style="width:100%; padding:10px; margin:5px 0">
                <input type="text" id="wd-gcash" placeholder="GCash Number" style="width:100%; padding:10px; margin:5px 0">
                <button onclick="submitWithdrawal()" style="background:green; width:100%; margin-top:10px">SUBMIT REQUEST</button>
            </div>

            <h5 style="margin-top:20px">History</h5>
            <table style="font-size:12px">
                <thead><tr><th>GCash</th><th>Amount</th><th>Status</th></tr></thead>
                <tbody id="wd-history"></tbody>
            </table>
        </div>
    </div>

    <div id="reward-popup"></div>

    <footer>
        <p>PAPERHOUSE INC</p>
        <p id="f-time"></p>
        <p>otico.isai2@gmail.com</p>
    </footer>

    <script type="module" src="app.js"></script>
    <script>
        const colors = ['pink','green','blue','red','violet','yellow','yellowgreen','orange','white','cyan','brown'];
        function changeTheme() {
            const b = document.getElementById('b');
            const rnd = Math.floor(Math.random() * (colors.length + 1));
            if(rnd === colors.length) { b.className = 'bricks'; b.style.backgroundColor = ''; }
            else { b.className = ''; b.style.backgroundColor = colors[rnd]; }
        }
        document.querySelectorAll('button').forEach(btn => {
            btn.addEventListener('click', () => {
                btn.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
            });
        });
        setInterval(() => { document.getElementById('f-time').innerText = new Date().toLocaleString(); }, 1000);
    </script>
</body>
</html>
